(this["webpackJsonpgraphql-test"]=this["webpackJsonpgraphql-test"]||[]).push([[0],{101:function(e,n,a){e.exports=a(117)},106:function(e,n,a){},117:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),o=a(30),i=a.n(o),l=(a(106),a(38)),c=a(37),m=a(65),s=a.n(m),u=a(33),g=function(e){return r.a.createElement("div",{className:s.a.headerContainer},r.a.createElement("span",null," GraphQL Test "),e.isLoggedFromStorage?r.a.createElement(u.c,{to:"/login",onClick:e.onLogout,className:s.a.navLinkHeader}," LogOut "):r.a.createElement("span",null," Not Authorised "))},d=a(86);function p(){var e=Object(d.a)([" {\n  Country {\n    name\n    nativeName\n    alpha2Code\n    alpha3Code\n    area\n    population\n    populationDensity\n    capital\n    gini\n    location {\n      latitude\n      longitude\n    }\n    numericCode\n    subregion {\n      name\n      region {\n        name\n      }\n    }\n    officialLanguages {\n      iso639_1\n      iso639_2\n      name\n      nativeName\n    }\n    currencies {\n      name\n      symbol\n    }\n    regionalBlocs {\n      name\n      acronym\n      otherAcronyms {\n        name\n      }\n      otherNames {\n        name\n      }\n    }\n    flag {\n      emoji\n      emojiUnicode\n      svgFile\n    }\n    topLevelDomains {\n      name\n    }\n    callingCodes {\n      name\n    }\n    alternativeSpellings {\n      name\n    }\n  }\n}"]);return p=function(){return e},e}var f=new c.ApolloClient({uri:"https://countries-274616.ew.r.appspot.com",cache:new c.InMemoryCache}),E=Object(c.gql)(p()),_=a(13),h=a(68),v=a.n(h),C=function(){var e=Object(_.g)().id;return r.a.createElement("div",{className:v.a.customCountryContainer},r.a.createElement("h2",null," Hello. This is a page related with country-code: ",e),r.a.createElement(u.b,{to:"/graphQL-test",className:v.a.navLinkToMain}," Back to country list "))},L=a(39),y=a.n(L),b=a(138),N=a(142),k=a(143),w=a(90),I=a.n(w),S=function(e){return"".concat(I()(e).format("0.0a"))},O=function(e){var n=Object(c.useQuery)(E),a=n.loading,o=n.error,i=n.data,m=Object(t.useState)(!0),s=Object(l.a)(m,2),g=s[0],d=s[1];return a?r.a.createElement(b.a,{className:y.a.progress}):o?r.a.createElement(N.a,{open:g,autoHideDuration:6e3,onClose:function(e,n){"clickaway"!==n&&d(!1)}},r.a.createElement(k.a,{severity:"error"},"Something went wrong")):e.isLoggedFromStorage?i.Country.map((function(e){return r.a.createElement("div",{key:e.name,className:y.a.countriesContainer},r.a.createElement(u.c,{to:"/".concat(e.alpha3Code),className:y.a.countryContainer},r.a.createElement("div",{className:y.a.flag},r.a.createElement("img",{src:e.flag.svgFile,alt:e.name})),r.a.createElement("div",{className:y.a.informationContainer},r.a.createElement("div",{className:y.a.countryInformationHeader},r.a.createElement("h2",null,e.name)),r.a.createElement("div",{className:y.a.countryInformationList},r.a.createElement("ul",null,r.a.createElement("li",null,"Capital: ",e.capital),r.a.createElement("li",null,"Population: ",S(e.population)," ",r.a.createElement("i",null,"people")),r.a.createElement("li",null,"Currency: ",e.currencies[0].name),r.a.createElement("li",null,"Area: ",S(e.area)," ",r.a.createElement("i",null,"sq. km.")),r.a.createElement("li",null,"Official languages: ",e.officialLanguages.map((function(e){return r.a.createElement("i",{key:e.iso639_2}," ",e.name," ")}))))))))})):r.a.createElement(_.a,{to:"/graphQL-test/login"})},j=a(45),F=a.n(j),H=a(144),M=a(141),T=function(e){var n=Object(t.useState)(""),a=Object(l.a)(n,2),o=a[0],i=a[1],c=Object(t.useState)(""),m=Object(l.a)(c,2),s=m[0],u=m[1];return e.isLoggedFromStorage?r.a.createElement(_.a,{to:"/graphQL-test"}):r.a.createElement("div",null,r.a.createElement("div",{className:F.a.loginContainer},r.a.createElement("div",{className:F.a.login},r.a.createElement(H.a,{placeholder:"Fake email",type:"email",className:F.a.input,value:o,onChange:function(e){return i(e.currentTarget.value)}}),r.a.createElement(H.a,{placeholder:"Fake password",type:"password",className:F.a.input,value:s,onChange:function(e){return u(e.currentTarget.value)}}),r.a.createElement(M.a,{color:"primary",variant:"contained",disabled:e.loading,onClick:e.loginHandler,className:F.a.btn},"LOG IN"))))},Q=function(e){return r.a.createElement(_.d,null,r.a.createElement(_.b,{exact:!0,path:"/",render:function(){return r.a.createElement(_.a,{to:"/graphQL-test"})}}),r.a.createElement(_.b,{path:"/graphQL-test",render:function(){return r.a.createElement(O,{isLoggedFromStorage:e.isLoggedFromStorage})}}),r.a.createElement(_.b,{path:"/graphQL-test/login",render:function(){return r.a.createElement(T,{loginHandler:e.logInHandler,loading:e.loadingProgress,isLoggedFromStorage:e.isLoggedFromStorage})}}),r.a.createElement(_.b,{path:"/graphQL-test/:id",render:function(){return r.a.createElement(C,null)}}))};var B=function(){var e=Object(t.useState)(!1),n=Object(l.a)(e,2),a=(n[0],n[1]),o=Object(t.useState)(!1),i=Object(l.a)(o,2),m=i[0],s=i[1],u=localStorage.getItem("loggedIn");return r.a.createElement(c.ApolloProvider,{client:f},r.a.createElement(g,{onLogout:function(){s(!1),localStorage.removeItem("loggedIn"),a(!0)},isLoggedFromStorage:u}),r.a.createElement(Q,{isLoggedFromStorage:u,logInHandler:function(){s(!0),localStorage.setItem("loggedIn","true"),setTimeout((function(){a(!0)}),1e3)},loadingProgress:m}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,null,r.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},39:function(e,n,a){e.exports={progress:"Main_progress__1Oe_Z",countriesContainer:"Main_countriesContainer__2wf1T",countryContainer:"Main_countryContainer__AlT9s",flag:"Main_flag__1eoBT",informationContainer:"Main_informationContainer__3Tket",countryInformationHeader:"Main_countryInformationHeader__36OdY",countryInformationList:"Main_countryInformationList__1DwYB"}},45:function(e,n,a){e.exports={loginContainer:"Login_loginContainer__2gCBy",login:"Login_login__3F6cI",input:"Login_input__E1RdE",btn:"Login_btn__3_ECh"}},65:function(e,n,a){e.exports={headerContainer:"Header_headerContainer__2Bwpj",navLinkHeader:"Header_navLinkHeader__Z7jgi"}},68:function(e,n,a){e.exports={customCountryContainer:"CustomCountryInformation_customCountryContainer__r7X0_",navLinkToMain:"CustomCountryInformation_navLinkToMain__3veZy"}}},[[101,1,2]]]);
//# sourceMappingURL=main.c702d9b4.chunk.js.map