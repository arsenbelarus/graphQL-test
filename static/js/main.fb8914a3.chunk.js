(this["webpackJsonpgraphql-test"]=this["webpackJsonpgraphql-test"]||[]).push([[0],{101:function(e,n,a){e.exports=a(117)},106:function(e,n,a){},117:function(e,n,a){"use strict";a.r(n);var t=a(0),o=a.n(t),r=a(30),i=a.n(r),l=(a(106),a(38)),c=a(37),m=a(65),u=a.n(m),s=a(33),g=function(e){return o.a.createElement("div",{className:u.a.headerContainer},o.a.createElement("span",null," GraphQL Test "),e.isLoggedFromStorage?o.a.createElement(s.c,{to:"/login",onClick:e.onLogout,className:u.a.navLinkHeader}," LogOut "):o.a.createElement("span",null," Not Authorised "))},d=a(86);function p(){var e=Object(d.a)([" {\n  Country {\n    name\n    nativeName\n    alpha2Code\n    alpha3Code\n    area\n    population\n    populationDensity\n    capital\n    gini\n    location {\n      latitude\n      longitude\n    }\n    numericCode\n    subregion {\n      name\n      region {\n        name\n      }\n    }\n    officialLanguages {\n      iso639_1\n      iso639_2\n      name\n      nativeName\n    }\n    currencies {\n      name\n      symbol\n    }\n    regionalBlocs {\n      name\n      acronym\n      otherAcronyms {\n        name\n      }\n      otherNames {\n        name\n      }\n    }\n    flag {\n      emoji\n      emojiUnicode\n      svgFile\n    }\n    topLevelDomains {\n      name\n    }\n    callingCodes {\n      name\n    }\n    alternativeSpellings {\n      name\n    }\n  }\n}"]);return p=function(){return e},e}var f=new c.ApolloClient({uri:"https://countries-274616.ew.r.appspot.com",cache:new c.InMemoryCache}),E=Object(c.gql)(p()),_=a(13),v=a(68),C=a.n(v),h=function(){var e=Object(_.g)().id;return o.a.createElement("div",{className:C.a.customCountryContainer},o.a.createElement("h2",null," Hello. This is a page related with country-code: ",e),o.a.createElement(s.b,{to:"/",className:C.a.navLinkToMain}," Back to country list "))},y=a(39),L=a.n(y),b=a(138),S=a(142),N=a(143),k=a(90),w=a.n(k),I=function(e){return"".concat(w()(e).format("0.0a"))},O=function(e){var n=Object(c.useQuery)(E),a=n.loading,r=n.error,i=n.data,m=Object(t.useState)(!0),u=Object(l.a)(m,2),g=u[0],d=u[1];return a?o.a.createElement(b.a,{className:L.a.progress}):r?o.a.createElement(S.a,{open:g,autoHideDuration:6e3,onClose:function(e,n){"clickaway"!==n&&d(!1)}},o.a.createElement(N.a,{severity:"error"},"Something went wrong")):e.isLoggedFromStorage?i.Country.map((function(e){return o.a.createElement("div",{key:e.name,className:L.a.countriesContainer},o.a.createElement(s.c,{to:"/".concat(e.alpha3Code),className:L.a.countryContainer},o.a.createElement("div",{className:L.a.flag},o.a.createElement("img",{src:e.flag.svgFile,alt:e.name})),o.a.createElement("div",{className:L.a.informationContainer},o.a.createElement("div",{className:L.a.countryInformationHeader},o.a.createElement("h2",null,e.name)),o.a.createElement("div",{className:L.a.countryInformationList},o.a.createElement("ul",null,o.a.createElement("li",null,"Capital: ",e.capital),o.a.createElement("li",null,"Population: ",I(e.population)," ",o.a.createElement("i",null,"people")),o.a.createElement("li",null,"Currency: ",e.currencies[0].name),o.a.createElement("li",null,"Area: ",I(e.area)," ",o.a.createElement("i",null,"sq. km.")),o.a.createElement("li",null,"Official languages: ",e.officialLanguages.map((function(e){return o.a.createElement("i",{key:e.iso639_2}," ",e.name," ")}))))))))})):o.a.createElement(_.a,{to:"/login"})},j=a(45),F=a.n(j),H=a(144),M=a(141),T=function(e){var n=Object(t.useState)(""),a=Object(l.a)(n,2),r=a[0],i=a[1],c=Object(t.useState)(""),m=Object(l.a)(c,2),u=m[0],s=m[1];return e.isLoggedFromStorage?o.a.createElement(_.a,{to:"/"}):o.a.createElement("div",null,o.a.createElement("div",{className:F.a.loginContainer},o.a.createElement("div",{className:F.a.login},o.a.createElement(H.a,{placeholder:"Fake email",type:"email",className:F.a.input,value:r,onChange:function(e){return i(e.currentTarget.value)}}),o.a.createElement(H.a,{placeholder:"Fake password",type:"password",className:F.a.input,value:u,onChange:function(e){return s(e.currentTarget.value)}}),o.a.createElement(M.a,{color:"primary",variant:"contained",disabled:e.loading,onClick:e.loginHandler,className:F.a.btn},"LOG IN"))))},B=function(e){return o.a.createElement(_.d,null,o.a.createElement(_.b,{exact:!0,path:"/graphQL-test",render:function(){return o.a.createElement(O,{isLoggedFromStorage:e.isLoggedFromStorage})}}),o.a.createElement(_.b,{exact:!0,path:"/",render:function(){return o.a.createElement(O,{isLoggedFromStorage:e.isLoggedFromStorage})}}),o.a.createElement(_.b,{path:"/login",render:function(){return o.a.createElement(T,{loginHandler:e.logInHandler,loading:e.loadingProgress,isLoggedFromStorage:e.isLoggedFromStorage})}}),o.a.createElement(_.b,{path:"/:id",render:function(){return o.a.createElement(h,null)}}))};var x=function(){var e=Object(t.useState)(!1),n=Object(l.a)(e,2),a=(n[0],n[1]),r=Object(t.useState)(!1),i=Object(l.a)(r,2),m=i[0],u=i[1],s=localStorage.getItem("loggedIn");return o.a.createElement(c.ApolloProvider,{client:f},o.a.createElement(g,{onLogout:function(){u(!1),localStorage.removeItem("loggedIn"),a(!0)},isLoggedFromStorage:s}),o.a.createElement(B,{isLoggedFromStorage:s,logInHandler:function(){u(!0),localStorage.setItem("loggedIn","true"),setTimeout((function(){a(!0)}),1e3)},loadingProgress:m}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s.a,null,o.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},39:function(e,n,a){e.exports={progress:"Main_progress__1Oe_Z",countriesContainer:"Main_countriesContainer__2wf1T",countryContainer:"Main_countryContainer__AlT9s",flag:"Main_flag__1eoBT",informationContainer:"Main_informationContainer__3Tket",countryInformationHeader:"Main_countryInformationHeader__36OdY",countryInformationList:"Main_countryInformationList__1DwYB"}},45:function(e,n,a){e.exports={loginContainer:"Login_loginContainer__2gCBy",login:"Login_login__3F6cI",input:"Login_input__E1RdE",btn:"Login_btn__3_ECh"}},65:function(e,n,a){e.exports={headerContainer:"Header_headerContainer__2Bwpj",navLinkHeader:"Header_navLinkHeader__Z7jgi"}},68:function(e,n,a){e.exports={customCountryContainer:"CustomCountryInformation_customCountryContainer__r7X0_",navLinkToMain:"CustomCountryInformation_navLinkToMain__3veZy"}}},[[101,1,2]]]);
//# sourceMappingURL=main.fb8914a3.chunk.js.map